

  <app-header></app-header>

  <!-- Notification -->
<div class="row">
    <div class="col-md-6">
<button type="button" class="btn btn-primary btn-lg" style="margin-left: 180%" data-toggle="modal" data-target="#myModal">
   Notifications
  </button>
  
  <!-- Modal -->
  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="myModalLabel">Lectures </h4>
        </div>
        <div class="modal-body">
        <p>Assigned Lecture Details  </p>
        <p>Date : 04/09/2024</p>
        <p>Time : 4 - 5</p>
        <p>Subject : Artificial Intelligence</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
  </div>
<br>
</div>
  

<!-- <br><br><br><br><br><br> -->


 <div class="p-input-icon-right" Style="margin-left: 4%;">
  <i class="pi pi-search"></i>
  <input style="margin-right: auto;" pInputText type="text" [(ngModel)]="searchValue" (input)="table.filterGlobal($any($event.target).value, 'contains')" placeholder="Search keyword" />

  <!-- <input type="text" pInputText placeholder="Search" (input)="table.filter($event.target.value, 'global', 'contains')"> -->
  <!-- <input  
  pInputText 
  type="text" 
  (input) = "setNewUserName($event)"
  placeholder="Search keyword" />-->
</div>

<br>
<div Style="margin-left: 4%; " >
<p-table #table [value]="attendance" [globalFilterFields]="['title', 'start', 'end', 'attended', 'status']">
  <ng-template pTemplate="header">
      <tr>
          <th>Title</th>
          <th>Date with Start Time</th>
          <th>Date with End Time</th>
          <th>User Name</th>
          <!-- <th>Notes</th> -->
          <th>Status</th>
          <th>Attended</th>
      </tr>
      <tr>
        <th>
            <p-columnFilter 
                type="text"
                field="title" 
                placeholder="Search by title" 
                ariaLabel="Filter Name" />
        </th>
        <th></th>
        <th></th>
        <th>
          <!-- <p-columnFilter 
              type="text"
              field="title" 
              placeholder="Search by Username" 
              ariaLabel="Filter Name" /> -->
        </th>
        
        <th>
          <p-columnFilter 
              type="text"
              field="status"
              placeholder="Search by Status" 
              ariaLabel="Filter Status" />
      </th>
      <th>
        <!-- <p-columnFilter 
            type="text"
            field="attended"
            placeholder="Search by Attended" 
            ariaLabel="Filter Attended" /> -->
    </th>
      </tr>
  </ng-template>
  <ng-template pTemplate="body" let-event>
      <tr>
          <td>{{ event.title }}</td>
          <td>{{ event.start | date: 'short':'GMT' }}</td>
          <td>{{ event.end | date: 'short':'GMT' }}</td>
          <td>{{event.userName}}</td>
          <!-- <td *ngFor="let event of attendance">{{ event.userEmail }}</td> -->
          <!-- <td>{{ event.notes }}</td> -->
<!--
          <td>
            <button type="button" class="btn btn-primary" *ngIf="status !== 'Approved' && status !== 'Rejected'" (click)="updateStatus(event,'Approved');(event)" >Approve</button>
            <button type="button" class="btn btn-primary" *ngIf="status === 'Approved'" >Approved</button>
              <button type="button" class="btn btn-danger" *ngIf="status !== 'Approved'  && status !== 'Rejected'" (click)="updateStatus(event,'Rejected');rejectEvent(event)">Reject</button>
              <button type="button" class="btn btn-danger" *ngIf="status === 'Rejected'" disabled >Rejected</button>

          </td>

           <td>
            <button type="button" class="btn btn-primary" *ngIf="status !== 'Approved' && status !== 'Rejected'" (click)="approveEvent(event)" >Approve</button>
            <button type="button" class="btn btn-primary" *ngIf="status === 'Approved'" >Approved</button>
            <button type="button" class="btn btn-danger" *ngIf="status !== 'Approved'  && status !== 'Rejected'" (click)="updateStatus(event,'Rejected');rejectEvent(event)">Reject</button>
            <button type="button" class="btn btn-danger" *ngIf="status === 'Rejected'" disabled >Rejected</button>
  
        </td> -->
          <td>
            <button  Style="margin-inline-start: 10%;" type="button" class="btn btn-primary" *ngIf="event.status !== 'Approved' && event.status !== 'Rejected'" (click)="updateStatus(event,'Approved');approveEvent(event)">Approve</button>
              <button Style="margin-inline-start: 25%;" type="button" class="btn btn-primary" *ngIf="event.status === 'Approved'">Approved</button>
              <button Style="margin-inline-start: 15%;"  type="button" class="btn btn-danger" *ngIf="event.status !== 'Approved' && event.status !== 'Rejected'" (click)="updateStatus(event, 'Rejected'); rejectEvent(event)">Reject</button>
              <button Style="margin-inline-start: 25%;" type="button" class="btn btn-danger" *ngIf="event.status === 'Rejected'" disabled>Rejected</button>
          </td>
          <td>{{ event.attended }}</td>
      </tr>
  </ng-template>
</p-table>

</div>

<hr>

<div Style="margin-left: 4%;">
<footer>
  <ul>
    <li><a href="#">About Us</a></li>
    <li><a href="#">Contact Us</a></li>
    <li><a href="#">Help</a></li>
  </ul>
</footer>
</div>